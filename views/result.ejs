<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Resultado del Quiz</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h1 class="mb-3">Resultado</h1>
    <h3>Obtuviste <%= score %> de <%= total %></h3>

    <hr>

    <h4>Revisi√≥n de preguntas</h4>
    <ul class="list-group mt-3">
      <% questions.forEach(q => { 
          const userAns = userAnswers[q.id];
          const isCorrect = userAns === q.correct;
      %>
        <li class="list-group-item">
          <p><strong><%= q.id %>. <%= q.text %></strong></p>
          <p>Tu respuesta: 
            <% if (userAns) { %>
              <%= userAns %> - <%= q.options[userAns] %>
            <% } else { %>
              (no respondida)
            <% } %>
          </p>
          <p>Respuesta correcta: <%= q.correct %> - <%= q.options[q.correct] %></p>
          <p>
            <% if (isCorrect) { %>
              <span class="badge bg-success">Correcto</span>
            <% } else { %>
              <span class="badge bg-danger">Incorrecto</span>
            <% } %>
          </p>
        </li>
      <% }) %>
    </ul>

    <a href="/" class="btn btn-secondary mt-4">Volver a intentar</a>
  </div>
</body>
</html>
